# ç—•è¿¹AI - å¼€å‘è§„èŒƒä¸æŠ€æœ¯æ–¹æ¡ˆ

## ä¸€ã€æŠ€æœ¯æ ˆé€‰å‹

### æ ¸å¿ƒæ¡†æ¶
- **React 18+** - ç»„ä»¶åŒ–æ¶æ„
- **TypeScript 5.x** - ç±»å‹å®‰å…¨ä¿éšœ
- **Vite 5.x** - æ„å»ºå·¥å…·(æ›¿ä»£ Create React App)
- **Tailwind CSS 4.x** - åŸå­åŒ– CSS æ¡†æ¶

### UI ç»„ä»¶åº“
**æ¨èæ–¹æ¡ˆ: shadcn/ui**
- åŸºäº Radix UI åŸè¯­,å¤©ç”Ÿæ— éšœç¢è®¿é—®
- ä¸ Tailwind CSS æ·±åº¦é›†æˆ
- å¤åˆ¶åˆ°é¡¹ç›®è€Œéä¾èµ–åŒ…,å®Œå…¨æŒæ§ä»£ç 
- TypeScript åŸç”Ÿæ”¯æŒ
- æŒ‰éœ€å¼•å…¥,æ— å†—ä½™ä»£ç 

**å¤‡é€‰æ–¹æ¡ˆ:**
- **Mantine** - åŠŸèƒ½å…¨é¢,100+ ç»„ä»¶
- **Chakra UI** - å¼€å‘ä½“éªŒä¼˜ç§€,æ˜“äºå®šåˆ¶
- **NextUI** - ç°ä»£åŒ–è®¾è®¡,æ€§èƒ½ä¼˜å¼‚

### çŠ¶æ€ç®¡ç†
- **Zustand** (æ¨è) - è½»é‡çº§,API ç®€æ´
- **Redux Toolkit** (å¤‡é€‰) - å¤§å‹é¡¹ç›®å¯é€‰

### HTTP è¯·æ±‚
- **Axios** - ç»Ÿä¸€è¯·æ±‚å°è£…,æ‹¦æˆªå™¨æ”¯æŒ
- **TanStack Query (React Query)** - æœåŠ¡ç«¯çŠ¶æ€ç®¡ç†,è‡ªåŠ¨ç¼“å­˜å’Œé‡è¯•

### å·¥å…·åº“
- **React Hook Form** - è¡¨å•ç®¡ç†
- **Zod** - è¿è¡Œæ—¶ç±»å‹éªŒè¯
- **date-fns** - æ—¥æœŸå¤„ç†
- **lodash-es** - å·¥å…·å‡½æ•°(æŒ‰éœ€å¯¼å…¥)
- **react-responsive** - å“åº”å¼åª’ä½“æŸ¥è¯¢

### å›½é™…åŒ– (i18n)
- **react-i18next** - React å›½é™…åŒ–åº“
- **i18next** - i18n æ ¸å¿ƒæ¡†æ¶
- **i18next-browser-languagedetector** - è‡ªåŠ¨è¯­è¨€æ£€æµ‹

### å›¾æ ‡åº“
- **lucide-react** - ç°ä»£åŒ–å›¾æ ‡é›†,ä¸ shadcn/ui é…å¥—

---

## äºŒã€å“åº”å¼è®¾è®¡è§„èŒƒ

### 1. è®¾è®¡åŸåˆ™

#### Desktop-First ä¼˜å…ˆ
ç”±äºä¸»è¦é¢å‘æ¡Œé¢ç«¯ä½¿ç”¨,é‡‡ç”¨ Desktop-First è®¾è®¡ç­–ç•¥,ä¼˜å…ˆä¿è¯æ¡Œé¢ç«¯çš„å®Œæ•´åŠŸèƒ½å’Œæœ€ä½³ä½“éªŒ,ç§»åŠ¨ç«¯ä½œä¸ºè¡¥å……æ”¯æŒã€‚

```typescript
// âœ… æ¨è: Desktop-First
const Container = styled.div`
  padding: 3rem;           // æ¡Œé¢ç«¯é»˜è®¤
  
  @media (max-width: 1024px) {
    padding: 2rem;         // å¹³æ¿
  }
  
  @media (max-width: 768px) {
    padding: 1rem;         // ç§»åŠ¨ç«¯
  }
`

// Tailwind CSS ä½¿ç”¨æ–¹å¼
<div className="
  p-8              // æ¡Œé¢ç«¯é»˜è®¤
  lg:p-6           // å°å±æ¡Œé¢
  md:p-4           // å¹³æ¿
  sm:p-2           // ç§»åŠ¨ç«¯
">
```

### 2. æ–­ç‚¹ç³»ç»Ÿ (Breakpoints)

ä½¿ç”¨ Tailwind CSS é»˜è®¤æ–­ç‚¹ç³»ç»Ÿ:

```typescript
// tailwind.config.js
export default {
  theme: {
    screens: {
      'sm': '640px',   // æ‰‹æœºæ¨ªå±/å°å¹³æ¿
      'md': '768px',   // å¹³æ¿
      'lg': '1024px',  // å°å±ç¬”è®°æœ¬
      'xl': '1280px',  // æ¡Œé¢ (ä¸»è¦ç›®æ ‡)
      '2xl': '1536px', // å¤§å±æ¡Œé¢
    }
  }
}
```

**æ¡Œé¢å¸ƒå±€**: > 1024px (ä¸»è¦å¼€å‘ç›®æ ‡)  
**å¹³æ¿å¸ƒå±€**: 768px - 1024px (é€‚é…æ”¯æŒ)  
**ç§»åŠ¨ç«¯å¸ƒå±€**: < 768px (åŸºç¡€æ”¯æŒ)

### 3. å“åº”å¼ç»„ä»¶åº“

#### æ¨èä½¿ç”¨ react-responsive
react-responsive æ˜¯æœ€æ˜“ç”¨çš„ React åª’ä½“æŸ¥è¯¢æ¨¡å—,æä¾› Hooks å’Œç»„ä»¶ä¸¤ç§æ–¹å¼:

```bash
npm install react-responsive
```

**ä½¿ç”¨ Hooks (æ¨è)**
```typescript
import { useMediaQuery } from 'react-responsive'

const ImageGenerator: React.FC = () => {
  const isDesktop = useMediaQuery({ minWidth: 1024 })  // ä¸»è¦å…³æ³¨æ¡Œé¢ç«¯
  const isTablet = useMediaQuery({ minWidth: 768, maxWidth: 1023 })
  const isMobile = useMediaQuery({ maxWidth: 767 })

  // æ¡Œé¢ç«¯ä¼˜å…ˆ,å®Œæ•´åŠŸèƒ½
  if (isDesktop) {
    return <DesktopLayout />  // å®Œæ•´ç•Œé¢,æ‰€æœ‰åŠŸèƒ½
  }
  
  // å¹³æ¿å’Œç§»åŠ¨ç«¯ç®€åŒ–ç‰ˆ
  if (isTablet) {
    return <TabletLayout />   // ç®€åŒ–ä½†ä¿æŒå¯ç”¨
  }
  
  return <MobileLayout />      // åŸºç¡€åŠŸèƒ½
}
```

**ä½¿ç”¨ç»„ä»¶æ–¹å¼**
```typescript
import { useMediaQuery } from 'react-responsive'

// åˆ›å»ºå¤ç”¨çš„å“åº”å¼ç»„ä»¶
const Desktop = ({ children }) => {
  const isDesktop = useMediaQuery({ minWidth: 1024 })
  return isDesktop ? children : null
}

const TabletAndBelow = ({ children }) => {
  const isTabletAndBelow = useMediaQuery({ maxWidth: 1023 })
  return isTabletAndBelow ? children : null
}

// ä½¿ç”¨
const App = () => (
  <>
    <Desktop>
      <DesktopSidebar />
      <DesktopToolbar />
    </Desktop>
    <TabletAndBelow>
      <SimplifiedNavbar />
    </TabletAndBelow>
  </>
)
```

### 4. å¸ƒå±€ç­–ç•¥

#### æ¡Œé¢ç«¯å¸ƒå±€ç‰¹ç‚¹
æ¡Œé¢ç«¯æœ‰æ›´å¤šå±å¹•ç©ºé—´,å¯ä»¥å®ç°å¤æ‚çš„å¤šæ å¸ƒå±€å’Œå¹¶æ’æ˜¾ç¤º

```typescript
// âœ… æ¡Œé¢ç«¯: ä¾§è¾¹æ  + ä¸»å†…å®¹åŒº + é¢„è§ˆåŒºä¸‰æ å¸ƒå±€
<div className="flex h-screen">
  {/* å·¦ä¾§è¾¹æ  - å›ºå®šå®½åº¦ */}
  <aside className="
    w-80                    // æ¡Œé¢ç«¯ 320px
    lg:w-64                 // å°å±æ¡Œé¢ 256px
    md:hidden               // å¹³æ¿ä»¥ä¸‹éšè—,ä½¿ç”¨æŠ½å±‰
    border-r border-zinc-200 dark:border-zinc-700
    overflow-y-auto
  ">
    <ConfigPanel />
  </aside>

  {/* ä¸»å†…å®¹åŒº - å¼¹æ€§å®½åº¦ */}
  <main className="flex-1 overflow-y-auto">
    <div className="
      max-w-7xl mx-auto       // æ¡Œé¢ç«¯æœ€å¤§å®½åº¦é™åˆ¶
      p-8                     // æ¡Œé¢ç«¯å……è¶³é—´è·
      md:p-6                  // å¹³æ¿
      sm:p-4                  // ç§»åŠ¨ç«¯
    ">
      <GeneratorForm />
    </div>
  </main>

  {/* å³ä¾§é¢„è§ˆåŒº - å¯é€‰ */}
  <aside className="
    w-96                    // æ¡Œé¢ç«¯ 384px
    xl:block                // ä»…å¤§å±æ¡Œé¢æ˜¾ç¤º
    hidden                  // å°å±éšè—
    border-l border-zinc-200 dark:border-zinc-700
    overflow-y-auto
  ">
    <PreviewPanel />
  </aside>
</div>

// å¹³æ¿/ç§»åŠ¨ç«¯: å•æ å †å å¸ƒå±€
<div className="flex flex-col md:hidden">
  <MobileHeader />
  <div className="flex-1 p-4">
    <SimplifiedForm />
  </div>
</div>
```

#### Grid å¸ƒå±€ç¤ºä¾‹
```typescript
// æ¡Œé¢ç«¯: 3-4 åˆ—ç½‘æ ¼
<div className="
  grid 
  grid-cols-4           // æ¡Œé¢ç«¯: 4åˆ—
  2xl:grid-cols-4
  xl:grid-cols-3        // å¤§å±: 3åˆ—
  lg:grid-cols-3        // ç¬”è®°æœ¬: 3åˆ—
  md:grid-cols-2        // å¹³æ¿: 2åˆ—
  sm:grid-cols-1        // ç§»åŠ¨ç«¯: 1åˆ—
  gap-6                 // æ¡Œé¢ç«¯è¾ƒå¤§é—´è·
  md:gap-4              // å¹³æ¿
  sm:gap-3              // ç§»åŠ¨ç«¯
">
  {items.map(item => <Card key={item.id} {...item} />)}
</div>
```

### 5. å­—ä½“å’Œé—´è·

#### æ¡Œé¢ç«¯ä¼˜å…ˆçš„å­—ä½“å¤§å°
```typescript
<div>
  <h1 className="
    text-4xl              // æ¡Œé¢ç«¯å¤§æ ‡é¢˜
    lg:text-3xl           // å°å±æ¡Œé¢
    md:text-2xl           // å¹³æ¿
    sm:text-xl            // ç§»åŠ¨ç«¯
    font-bold
  ">
    AI åª’ä½“ç”Ÿæˆå·¥å…·
  </h1>

  <p className="
    text-lg               // æ¡Œé¢ç«¯æ­£æ–‡
    md:text-base          // å¹³æ¿åŠä»¥ä¸‹
    text-zinc-600 dark:text-zinc-400
  ">
    æè¿°æ–‡æœ¬
  </p>
</div>
```

#### é—´è·ç³»ç»Ÿ
```typescript
// æ¡Œé¢ç«¯å……è¶³çš„å‘¼å¸æ„Ÿ
<div className="
  space-y-8             // æ¡Œé¢ç«¯: 2rem é—´è·
  md:space-y-6          // å¹³æ¿: 1.5rem
  sm:space-y-4          // ç§»åŠ¨ç«¯: 1rem
">
  <Section />
  <Section />
</div>
```

### 6. å¯¼èˆªæ è®¾è®¡

#### æ¡Œé¢ç«¯: å®Œæ•´æ¨ªå‘å¯¼èˆª
```typescript
const Navbar: React.FC = () => {
  const isDesktop = useMediaQuery({ minWidth: 1024 })

  return (
    <nav className="bg-white dark:bg-[#131313] border-b border-zinc-200 dark:border-zinc-700">
      <div className="max-w-7xl mx-auto px-6 py-4">
        {isDesktop ? (
          // æ¡Œé¢ç«¯: å®Œæ•´æ¨ªå‘å¯¼èˆª
          <div className="flex items-center justify-between">
            <div className="flex items-center gap-8">
              <Logo />
              <NavLinks />  {/* æ‰€æœ‰å¯¼èˆªé“¾æ¥å¹³é“º */}
            </div>
            <div className="flex items-center gap-4">
              <SearchBar />
              <ThemeSwitcher />
              <LanguageSwitcher />
              <UserMenu />
            </div>
          </div>
        ) : (
          // å¹³æ¿/ç§»åŠ¨ç«¯: æ±‰å ¡èœå•
          <MobileNavbar />
        )}
      </div>
    </nav>
  )
}
```

### 7. æ¡Œé¢ç«¯ç‰¹æ®Šä¼˜åŒ–

#### é¼ æ ‡æ‚¬åœæ•ˆæœ
æ¡Œé¢ç«¯å¯ä»¥å……åˆ†åˆ©ç”¨é¼ æ ‡æ‚¬åœæ•ˆæœæå‡äº¤äº’ä½“éªŒ

```typescript
<button className="
  px-6 py-3
  bg-blue-600 text-white rounded-lg
  
  // æ¡Œé¢ç«¯æ‚¬åœæ•ˆæœ
  hover:bg-blue-700 
  hover:shadow-lg
  hover:scale-105
  
  // æ¡Œé¢ç«¯è¿‡æ¸¡åŠ¨ç”»
  transition-all duration-200
  
  // ç§»åŠ¨ç«¯ç¦ç”¨æ‚¬åœ(é¿å…ç‚¹å‡»åæ•ˆæœæ®‹ç•™)
  md:hover:scale-100
">
  ç”Ÿæˆå›¾ç‰‡
</button>
```

#### å¿«æ·é”®æ”¯æŒ
æ¡Œé¢ç«¯åº”è¯¥æä¾›é”®ç›˜å¿«æ·é”®

```typescript
// hooks/useKeyboardShortcuts.ts
const useKeyboardShortcuts = () => {
  useEffect(() => {
    const handleKeyPress = (e: KeyboardEvent) => {
      // Ctrl/Cmd + Enter: æäº¤è¡¨å•
      if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
        handleSubmit()
      }
      
      // Ctrl/Cmd + K: æ‰“å¼€æœç´¢
      if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
        e.preventDefault()
        openSearch()
      }
      
      // Esc: å…³é—­å¼¹çª—
      if (e.key === 'Escape') {
        closeModal()
      }
    }

    window.addEventListener('keydown', handleKeyPress)
    return () => window.removeEventListener('keydown', handleKeyPress)
  }, [])
}
```

#### å³é”®èœå•
æ¡Œé¢ç«¯å¯ä»¥å®ç°è‡ªå®šä¹‰å³é”®èœå•

```typescript
const ImageCard = ({ image }) => {
  const [contextMenu, setContextMenu] = useState<{x: number, y: number} | null>(null)

  const handleContextMenu = (e: React.MouseEvent) => {
    e.preventDefault()
    setContextMenu({ x: e.clientX, y: e.clientY })
  }

  return (
    <>
      <div onContextMenu={handleContextMenu}>
        <img src={image.url} alt={image.prompt} />
      </div>
      
      {contextMenu && (
        <ContextMenu 
          position={contextMenu}
          onClose={() => setContextMenu(null)}
        >
          <MenuItem onClick={handleDownload}>ä¸‹è½½</MenuItem>
          <MenuItem onClick={handleCopy}>å¤åˆ¶</MenuItem>
          <MenuItem onClick={handleDelete}>åˆ é™¤</MenuItem>
        </ContextMenu>
      )}
    </>
  )
}
```

### 8. æ€§èƒ½ä¼˜åŒ–

#### æ¡Œé¢ç«¯å¯ä»¥åŠ è½½æ›´é«˜è´¨é‡èµ„æº
```typescript
const ImageDisplay = () => {
  const isDesktop = useMediaQuery({ minWidth: 1024 })

  return (
    <img 
      src={isDesktop ? image.highResUrl : image.thumbnailUrl}
      alt={image.prompt}
      className="w-full h-auto"
    />
  )
}
```

### 9. æµ‹è¯•è§„èŒƒ

æ¡Œé¢ç«¯ä¼˜å…ˆçš„æµ‹è¯•ç­–ç•¥

**å¿…æµ‹åˆ†è¾¨ç‡(æŒ‰ä¼˜å…ˆçº§)**:
- ğŸ–¥ï¸ **1920x1080** (ä¸»è¦ç›®æ ‡ - æœ€å¸¸è§æ¡Œé¢åˆ†è¾¨ç‡)
- ğŸ–¥ï¸ **2560x1440** (2K æ˜¾ç¤ºå™¨)
- ğŸ’» **1366x768** (å°å±ç¬”è®°æœ¬)
- ğŸ–¥ï¸ **3840x2160** (4K æ˜¾ç¤ºå™¨)
- ğŸ“² **1024x768** (å¹³æ¿)
- ğŸ“± **375x667** (ç§»åŠ¨ç«¯åŸºç¡€æ”¯æŒ)

**æµ‹è¯•å·¥å…·**:
- Chrome DevTools (å“åº”å¼æ¨¡å¼)
- çœŸå®æ¡Œé¢æµè§ˆå™¨æµ‹è¯•
- å¤šæ˜¾ç¤ºå™¨é…ç½®æµ‹è¯•

---

## ä¸‰ã€å¤šè¯­è¨€æ”¯æŒ (i18n) è§„èŒƒ

### 1. æŠ€æœ¯é€‰å‹

#### æ¨è: react-i18next
react-i18next æ˜¯æœ€æµè¡Œçš„ React å›½é™…åŒ–åº“,å»ºç«‹åœ¨ i18next æ¡†æ¶ä¹‹ä¸Š,æ¯å‘¨ä¸‹è½½é‡è¶…è¿‡ 630 ä¸‡æ¬¡,GitHub ä¸Šæœ‰ 9.8K stars

**ä¸ºä»€ä¹ˆé€‰æ‹© react-i18next:**
- âœ… åŠŸèƒ½æœ€å®Œå–„,æ’ä»¶ç”Ÿæ€ä¸°å¯Œ
- âœ… ä¸ React Hooks å®Œç¾é›†æˆ
- âœ… æ”¯æŒå‘½åç©ºé—´,æŒ‰éœ€åŠ è½½ç¿»è¯‘
- âœ… TypeScript æ”¯æŒè‰¯å¥½
- âœ… ç¤¾åŒºæ´»è·ƒ,æ–‡æ¡£å®Œå–„

**å®‰è£…**:
```bash
npm install i18next react-i18next i18next-browser-languagedetector
```

### 2. é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ locales/                 # ç¿»è¯‘æ–‡ä»¶
â”‚   â”œâ”€â”€ zh-CN/              # ç®€ä½“ä¸­æ–‡
â”‚   â”‚   â”œâ”€â”€ common.json     # é€šç”¨ç¿»è¯‘
â”‚   â”‚   â”œâ”€â”€ nav.json        # å¯¼èˆªç¿»è¯‘
â”‚   â”‚   â”œâ”€â”€ image-gen.json  # å›¾ç‰‡ç”Ÿæˆæ¨¡å—
â”‚   â”‚   â””â”€â”€ video-gen.json  # è§†é¢‘ç”Ÿæˆæ¨¡å—
â”‚   â”œâ”€â”€ en-US/              # è‹±æ–‡
â”‚   â”‚   â”œâ”€â”€ common.json
â”‚   â”‚   â”œâ”€â”€ nav.json
â”‚   â”‚   â”œâ”€â”€ image-gen.json
â”‚   â”‚   â””â”€â”€ video-gen.json
â”‚   â””â”€â”€ index.ts            # i18n åˆå§‹åŒ–é…ç½®
â”‚
â”œâ”€â”€ components/
â”‚   â””â”€â”€ LanguageSwitcher.tsx # è¯­è¨€åˆ‡æ¢ç»„ä»¶
```

### 3. i18n é…ç½®

```typescript
// src/locales/index.ts
import i18n from 'i18next'
import { initReactI18next } from 'react-i18next'
import LanguageDetector from 'i18next-browser-languagedetector'

// å¯¼å…¥ç¿»è¯‘æ–‡ä»¶
import zhCN_common from './zh-CN/common.json'
import zhCN_nav from './zh-CN/nav.json'
import enUS_common from './en-US/common.json'
import enUS_nav from './en-US/nav.json'

i18n
  .use(LanguageDetector) // è‡ªåŠ¨æ£€æµ‹ç”¨æˆ·è¯­è¨€
  .use(initReactI18next)
  .init({
    resources: {
      'zh-CN': {
        common: zhCN_common,
        nav: zhCN_nav,
      },
      'en-US': {
        common: enUS_common,
        nav: enUS_nav,
      }
    },
    fallbackLng: 'zh-CN',     // é»˜è®¤è¯­è¨€: ä¸­æ–‡
    defaultNS: 'common',      // é»˜è®¤å‘½åç©ºé—´
    
    interpolation: {
      escapeValue: false,     // React å·²ç»é˜² XSS
    },
    
    detection: {
      // è¯­è¨€æ£€æµ‹é¡ºåº
      order: ['localStorage', 'navigator'],
      caches: ['localStorage'],
    }
  })

export default i18n
```

### 4. ç¿»è¯‘æ–‡ä»¶ç¤ºä¾‹

```json
// locales/zh-CN/common.json
{
  "app": {
    "title": "AI åª’ä½“ç”Ÿæˆå·¥å…·",
    "description": "ä½¿ç”¨ AI ç”Ÿæˆå›¾ç‰‡å’Œè§†é¢‘"
  },
  "buttons": {
    "generate": "ç”Ÿæˆ",
    "cancel": "å–æ¶ˆ",
    "download": "ä¸‹è½½",
    "clear": "æ¸…é™¤"
  },
  "messages": {
    "success": "ç”ŸæˆæˆåŠŸ!",
    "error": "ç”Ÿæˆå¤±è´¥,è¯·é‡è¯•",
    "loading": "æ­£åœ¨ç”Ÿæˆä¸­..."
  },
  "form": {
    "prompt": "æç¤ºè¯",
    "promptPlaceholder": "è¾“å…¥ä½ æƒ³ç”Ÿæˆçš„å†…å®¹æè¿°...",
    "model": "æ¨¡å‹",
    "size": "å°ºå¯¸",
    "quality": "è´¨é‡"
  }
}

// locales/zh-CN/nav.json
{
  "home": "é¦–é¡µ",
  "imageGen": "å›¾ç‰‡ç”Ÿæˆ",
  "videoGen": "è§†é¢‘ç”Ÿæˆ",
  "history": "å†å²è®°å½•",
  "settings": "è®¾ç½®"
}

// locales/en-US/common.json
{
  "app": {
    "title": "AI Media Generator",
    "description": "Generate images and videos with AI"
  },
  "buttons": {
    "generate": "Generate",
    "cancel": "Cancel",
    "download": "Download",
    "clear": "Clear"
  },
  "messages": {
    "success": "Generated successfully!",
    "error": "Generation failed, please retry",
    "loading": "Generating..."
  },
  "form": {
    "prompt": "Prompt",
    "promptPlaceholder": "Enter your content description...",
    "model": "Model",
    "size": "Size",
    "quality": "Quality"
  }
}
```

### 5. ä½¿ç”¨æ–¹å¼

#### åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ useTranslation Hook
```typescript
import { useTranslation } from 'react-i18next'

const ImageGenerator: React.FC = () => {
  const { t } = useTranslation(['common', 'nav']) // åŠ è½½å¤šä¸ªå‘½åç©ºé—´

  return (
    <div>
      <h1>{t('app.title')}</h1>
      <p>{t('app.description')}</p>
      
      <input 
        placeholder={t('form.promptPlaceholder')}
      />
      
      <button>{t('buttons.generate')}</button>
      
      {/* å¸¦å˜é‡æ’å€¼ */}
      <p>{t('messages.success', { name: 'image.png' })}</p>
    </div>
  )
}
```

#### è¯­è¨€åˆ‡æ¢ç»„ä»¶
```typescript
import { useTranslation } from 'react-i18next'
import { Globe } from 'lucide-react'

const LanguageSwitcher: React.FC = () => {
  const { i18n } = useTranslation()
  
  const languages = [
    { code: 'zh-CN', name: 'ç®€ä½“ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
    { code: 'en-US', name: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
  ]

  return (
    <div className="flex items-center gap-2">
      <Globe className="w-5 h-5" />
      <select 
        value={i18n.language}
        onChange={(e) => i18n.changeLanguage(e.target.value)}
        className="bg-transparent border rounded px-2 py-1"
      >
        {languages.map(lang => (
          <option key={lang.code} value={lang.code}>
            {lang.flag} {lang.name}
          </option>
        ))}
      </select>
    </div>
  )
}
```

### 6. TypeScript ç±»å‹å®‰å…¨

```typescript
// src/types/i18n.d.ts
import 'react-i18next'
import common from './locales/zh-CN/common.json'
import nav from './locales/zh-CN/nav.json'

declare module 'react-i18next' {
  interface CustomTypeOptions {
    defaultNS: 'common'
    resources: {
      common: typeof common
      nav: typeof nav
    }
  }
}
```

ç°åœ¨ä½¿ç”¨ `t()` å‡½æ•°æ—¶ä¼šæœ‰è‡ªåŠ¨è¡¥å…¨å’Œç±»å‹æ£€æŸ¥!

### 7. æœ€ä½³å®è·µ

#### ç¿»è¯‘é”®å‘½åè§„èŒƒ
```typescript
// âœ… æ¨è: ä½¿ç”¨å‘½åç©ºé—´å’Œå±‚çº§ç»“æ„
t('common:buttons.generate')
t('nav:imageGen')
t('form.prompt')

// âŒ é¿å…: æ‰å¹³åŒ–å‘½å
t('generateButton')
t('imageGenNav')
```

#### å¤„ç†å¤æ•°å’Œæ€§åˆ«
```json
// common.json
{
  "items": "{{count}} ä¸ªé¡¹ç›®",
  "items_zero": "æ²¡æœ‰é¡¹ç›®",
  "items_one": "1 ä¸ªé¡¹ç›®",
  "items_other": "{{count}} ä¸ªé¡¹ç›®"
}
```

```typescript
t('items', { count: 0 })  // "æ²¡æœ‰é¡¹ç›®"
t('items', { count: 1 })  // "1 ä¸ªé¡¹ç›®"
t('items', { count: 5 })  // "5 ä¸ªé¡¹ç›®"
```

#### æ‡’åŠ è½½ç¿»è¯‘æ–‡ä»¶
```typescript
// ä»…åœ¨éœ€è¦æ—¶åŠ è½½ç‰¹å®šå‘½åç©ºé—´
const { t } = useTranslation()

// åŠ¨æ€åŠ è½½
i18n.loadNamespaces(['image-gen', 'video-gen'])
```

---

## å››ã€ä¸»é¢˜åˆ‡æ¢è§„èŒƒ

### 1. æŠ€æœ¯æ–¹æ¡ˆ

ä½¿ç”¨ React Context API ç®¡ç†ä¸»é¢˜çŠ¶æ€,ç»“åˆ Tailwind CSS çš„æ·±è‰²æ¨¡å¼æ”¯æŒå’Œ localStorage å®ç°ä¸»é¢˜æŒä¹…åŒ–

**æ ¸å¿ƒç‰¹æ€§**:
- âœ… æ”¯æŒäº®è‰²/æš—è‰²ä¸»é¢˜åˆ‡æ¢
- âœ… é»˜è®¤æš—è‰²ä¸»é¢˜
- âœ… è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿåå¥½
- âœ… ä¸»é¢˜çŠ¶æ€æŒä¹…åŒ– (localStorage)
- âœ… å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»

### 2. Tailwind CSS é…ç½®

```javascript
// tailwind.config.js
export default {
  darkMode: 'class', // ä½¿ç”¨ class ç­–ç•¥
  theme: {
    extend: {
      colors: {
        // äº®è‰²ä¸»é¢˜
        light: {
          bg: '#ffffff',
          'bg-secondary': '#f5f5f5',
          text: '#000000',
          'text-secondary': '#404040',
          border: '#e5e5e5',
          accent: '#0066cc',
        },
        // æš—è‰²ä¸»é¢˜
        dark: {
          bg: '#000000',
          'bg-secondary': '#1a1a1a',
          text: '#ffffff',
          'text-secondary': '#a0a0a0',
          border: '#404040',
          accent: '#3b82f6',
        }
      }
    }
  }
}
```

### 3. ä¸»é¢˜ Context å®ç°

```typescript
// src/contexts/ThemeContext.tsx
import React, { 
  createContext, 
  useContext, 
  useState, 
  useEffect,
  ReactNode 
} from 'react'

type Theme = 'light' | 'dark' | 'auto'
type ResolvedTheme = 'light' | 'dark'

interface ThemeContextType {
  theme: Theme
  resolvedTheme: ResolvedTheme
  setTheme: (theme: Theme) => void
  toggleTheme: () => void
}

const ThemeContext = createContext<ThemeContextType | undefined>(undefined)

export const ThemeProvider: React.FC<{ children: ReactNode }> = ({ 
  children 
}) => {
  // ä» localStorage è¯»å–,é»˜è®¤ä¸º 'dark'
  const [theme, setThemeState] = useState<Theme>(() => {
    const stored = localStorage.getItem('theme') as Theme
    return stored || 'dark' // é»˜è®¤æš—è‰²ä¸»é¢˜
  })

  // è®¡ç®—å®é™…åº”ç”¨çš„ä¸»é¢˜
  const [resolvedTheme, setResolvedTheme] = useState<ResolvedTheme>('dark')

  useEffect(() => {
    const root = window.document.documentElement
    
    // æ£€æµ‹ç³»ç»Ÿåå¥½
    const systemPrefersDark = window.matchMedia(
      '(prefers-color-scheme: dark)'
    ).matches

    let applied: ResolvedTheme
    
    if (theme === 'auto') {
      applied = systemPrefersDark ? 'dark' : 'light'
    } else {
      applied = theme as ResolvedTheme
    }

    setResolvedTheme(applied)

    // åº”ç”¨ä¸»é¢˜
    root.classList.remove('light', 'dark')
    root.classList.add(applied)
    
    // ä¿å­˜åˆ° localStorage
    localStorage.setItem('theme', theme)
  }, [theme])

  // ç›‘å¬ç³»ç»Ÿä¸»é¢˜å˜åŒ–
  useEffect(() => {
    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)')
    
    const handleChange = () => {
      if (theme === 'auto') {
        const newTheme = mediaQuery.matches ? 'dark' : 'light'
        setResolvedTheme(newTheme)
      }
    }

    mediaQuery.addEventListener('change', handleChange)
    return () => mediaQuery.removeEventListener('change', handleChange)
  }, [theme])

  const setTheme = (newTheme: Theme) => {
    setThemeState(newTheme)
  }

  const toggleTheme = () => {
    setThemeState(current => {
      if (current === 'light') return 'dark'
      if (current === 'dark') return 'light'
      return 'dark' // auto æ—¶åˆ‡æ¢åˆ° dark
    })
  }

  return (
    <ThemeContext.Provider 
      value={{ theme, resolvedTheme, setTheme, toggleTheme }}
    >
      {children}
    </ThemeContext.Provider>
  )
}

export const useTheme = () => {
  const context = useContext(ThemeContext)
  if (!context) {
    throw new Error('useTheme must be used within ThemeProvider')
  }
  return context
}
```

### 4. åœ¨åº”ç”¨ä¸­ä½¿ç”¨

```typescript
// src/main.tsx
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App'
import { ThemeProvider } from './contexts/ThemeContext'
import './locales' // i18n åˆå§‹åŒ–
import './index.css'

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <ThemeProvider>
      <App />
    </ThemeProvider>
  </React.StrictMode>
)
```

### 5. ä¸»é¢˜åˆ‡æ¢ç»„ä»¶

```typescript
// src/components/ThemeSwitcher.tsx
import { useTheme } from '@/contexts/ThemeContext'
import { Sun, Moon, Monitor } from 'lucide-react'

const ThemeSwitcher: React.FC = () => {
  const { theme, setTheme } = useTheme()

  const themes: Array<{ value: Theme; icon: React.ReactNode; label: string }> = [
    { value: 'light', icon: <Sun className="w-4 h-4" />, label: 'äº®è‰²' },
    { value: 'dark', icon: <Moon className="w-4 h-4" />, label: 'æš—è‰²' },
    { value: 'auto', icon: <Monitor className="w-4 h-4" />, label: 'è‡ªåŠ¨' },
  ]

  return (
    <div className="flex items-center gap-2 bg-zinc-100 dark:bg-zinc-800 rounded-lg p-1">
      {themes.map(({ value, icon, label }) => (
        <button
          key={value}
          onClick={() => setTheme(value)}
          className={`
            flex items-center gap-2 px-3 py-2 rounded-md
            transition-all duration-200
            ${theme === value 
              ? 'bg-white dark:bg-zinc-700 shadow-sm' 
              : 'hover:bg-zinc-200 dark:hover:bg-zinc-700'
            }
          `}
          title={label}
        >
          {icon}
          <span className="text-sm">{label}</span>
        </button>
      ))}
    </div>
  )
}

export default ThemeSwitcher
```

### 6. CSS å…¨å±€æ ·å¼

```css
/* src/index.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* å¹³æ»‘è¿‡æ¸¡ */
  * {
    @apply transition-colors duration-200;
  }

  /* æ ¹å…ƒç´ æ ·å¼ */
  html {
    @apply antialiased;
  }

  body {
    @apply bg-white dark:bg-black;
    @apply text-zinc-900 dark:text-zinc-100;
  }
}

/* è‡ªå®šä¹‰æ»šåŠ¨æ¡ */
::-webkit-scrollbar {
  @apply w-2;
}

::-webkit-scrollbar-track {
  @apply bg-zinc-100 dark:bg-[#131313];
}

::-webkit-scrollbar-thumb {
  @apply bg-zinc-300 dark:bg-zinc-700 rounded-full;
  @apply hover:bg-zinc-400 dark:hover:bg-zinc-600;
}
```

### 7. ä½¿ç”¨ Tailwind æš—è‰²æ¨¡å¼ç±»

```typescript
// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ dark: å‰ç¼€
<div className="
  bg-white dark:bg-[#131313]
  text-zinc-900 dark:text-zinc-100
  border border-zinc-200 dark:border-zinc-700
">
  <h2 className="text-2xl font-bold text-black dark:text-white">
    æ ‡é¢˜
  </h2>
  
  <button className="
    bg-blue-500 hover:bg-blue-600 
    dark:bg-blue-600 dark:hover:bg-blue-700
    text-white px-4 py-2 rounded
  ">
    æŒ‰é’®
  </button>
</div>
```

### 8. é…è‰²ç³»ç»Ÿ

#### äº®è‰²ä¸»é¢˜é…è‰²
```typescript
const lightTheme = {
  background: '#ffffff',
  backgroundSecondary: '#f5f5f5',
  text: '#000000',
  textSecondary: '#404040',
  border: '#e5e5e5',
  accent: '#0066cc',
  success: '#16a34a',
  error: '#dc2626',
  warning: '#ea580c',
}
```

#### æš—è‰²ä¸»é¢˜é…è‰² (é»˜è®¤)
```typescript
const darkTheme = {
  background: '#000000',
  backgroundSecondary: '#1a1a1a',
  text: '#ffffff',
  textSecondary: '#a0a0a0',
  border: '#404040',
  accent: '#3b82f6',
  success: '#22c55e',
  error: '#ef4444',
  warning: '#f97316',
}
```

### 9. æœ€ä½³å®è·µ

#### é¿å…ä¸»é¢˜é—ªçƒ
åœ¨ `index.html` ä¸­æ·»åŠ è„šæœ¬,åœ¨é¡µé¢åŠ è½½å‰åº”ç”¨ä¸»é¢˜:

```html
<!-- public/index.html -->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <script>
    // é˜²æ­¢ä¸»é¢˜é—ªçƒ (FOUC - Flash of Unstyled Content)
    (function() {
      const theme = localStorage.getItem('theme') || 'dark'
      const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches
      const applied = theme === 'auto' ? (systemDark ? 'dark' : 'light') : theme
      document.documentElement.classList.add(applied)
    })()
  </script>
</head>
<body>
  <div id="root"></div>
</body>
</html>
```

#### å›¾ç‰‡é€‚é…æš—è‰²ä¸»é¢˜
```typescript
// ä¸ºæš—è‰²æ¨¡å¼æä¾›ä¸åŒçš„å›¾ç‰‡
<img 
  src={theme === 'dark' ? '/logo-dark.svg' : '/logo-light.svg'}
  alt="Logo"
  className="w-32 h-auto"
/>

// æˆ–ä½¿ç”¨ CSS filter
<img 
  src="/logo.svg"
  alt="Logo"
  className="dark:invert" // æš—è‰²æ¨¡å¼ä¸‹åè‰²
/>
```

---

## äº”ã€é¡¹ç›®ç»“æ„è§„èŒƒ

### æ¨èçš„æ–‡ä»¶å¤¹ç»“æ„

```
src/
â”œâ”€â”€ adapters/              # API é€‚é…å™¨å±‚
â”‚   â”œâ”€â”€ openai/
â”‚   â”‚   â”œâ”€â”€ OpenAIAdapter.ts
â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”œâ”€â”€ stability/
â”‚   â”‚   â”œâ”€â”€ StabilityAdapter.ts
â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”œâ”€â”€ base/
â”‚   â”‚   â””â”€â”€ BaseAdapter.ts    # é€‚é…å™¨åŸºç±»
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ components/            # UI ç»„ä»¶
â”‚   â”œâ”€â”€ ui/               # shadcn/ui ç»„ä»¶(è‡ªåŠ¨ç”Ÿæˆ)
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ common/           # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”‚   â”œâ”€â”€ Loading.tsx
â”‚   â”‚   â”œâ”€â”€ ThemeSwitcher.tsx    # ä¸»é¢˜åˆ‡æ¢
â”‚   â”‚   â””â”€â”€ LanguageSwitcher.tsx # è¯­è¨€åˆ‡æ¢
â”‚   â””â”€â”€ features/         # åŠŸèƒ½ç»„ä»¶
â”‚       â”œâ”€â”€ ImageGenerator/
â”‚       â”‚   â”œâ”€â”€ index.tsx
â”‚       â”‚   â”œâ”€â”€ ConfigPanel.tsx
â”‚       â”‚   â””â”€â”€ ResultDisplay.tsx
â”‚       â””â”€â”€ VideoGenerator/
â”‚
â”œâ”€â”€ hooks/                # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ useApiCall.ts
â”‚   â”œâ”€â”€ useImageGeneration.ts
â”‚   â”œâ”€â”€ useTaskPolling.ts
â”‚   â”œâ”€â”€ useMediaQuery.ts     # å“åº”å¼åª’ä½“æŸ¥è¯¢
â”‚   â””â”€â”€ useTheme.ts          # ä¸»é¢˜ç®¡ç†
â”‚
â”œâ”€â”€ stores/               # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ apiStore.ts
â”‚   â”œâ”€â”€ userStore.ts
â”‚   â””â”€â”€ historyStore.ts
â”‚
â”œâ”€â”€ contexts/             # React Context
â”‚   â”œâ”€â”€ ThemeContext.tsx     # ä¸»é¢˜ä¸Šä¸‹æ–‡
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ locales/              # å¤šè¯­è¨€ç¿»è¯‘æ–‡ä»¶
â”‚   â”œâ”€â”€ zh-CN/
â”‚   â”œâ”€â”€ en-US/
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ services/             # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ api.ts           # Axios å®ä¾‹é…ç½®
â”‚   â”œâ”€â”€ storage.ts       # æœ¬åœ°å­˜å‚¨
â”‚   â””â”€â”€ validation.ts    # æ•°æ®éªŒè¯
â”‚
â”œâ”€â”€ types/                # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ api.ts
â”‚   â”œâ”€â”€ models.ts
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ formatters.ts
â”‚   â”œâ”€â”€ validators.ts
â”‚   â””â”€â”€ constants.ts
â”‚
â”œâ”€â”€ config/               # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ providers.json   # API å‚å•†é…ç½®
â”‚   â””â”€â”€ app.config.ts
â”‚
â”œâ”€â”€ App.tsx
â”œâ”€â”€ main.tsx
â””â”€â”€ index.css
```

---

## ä¸‰ã€ç¼–ç è§„èŒƒ

### 1. å‘½åè§„èŒƒ

#### æ–‡ä»¶å‘½å
- **ç»„ä»¶æ–‡ä»¶**: PascalCase (ä¾‹: `ImageGenerator.tsx`)
- **Hooks**: camelCase,ä»¥ use å¼€å¤´ (ä¾‹: `useApiCall.ts`)
- **å·¥å…·å‡½æ•°**: camelCase (ä¾‹: `formatDate.ts`)
- **ç±»å‹æ–‡ä»¶**: camelCase (ä¾‹: `api.types.ts`)
- **å¸¸é‡æ–‡ä»¶**: camelCase (ä¾‹: `constants.ts`)

#### å˜é‡å‘½å
```typescript
// ç»„ä»¶å‘½å - PascalCase
const ImageGenerator: React.FC = () => {}

// å˜é‡/å‡½æ•° - camelCase
const apiKey = 'xxx'
const fetchUserData = () => {}

// å¸¸é‡ - UPPER_SNAKE_CASE
const API_BASE_URL = 'https://api.example.com'
const MAX_RETRY_COUNT = 3

// ç±»å‹/æ¥å£ - PascalCase,æ¥å£åŠ  I å‰ç¼€(å¯é€‰)
interface GenerateParams {}
type ApiResponse = {}
```

### 2. TypeScript è§„èŒƒ

#### ä¸¥æ ¼ç±»å‹æ£€æŸ¥
```typescript
// tsconfig.json
{
  "compilerOptions": {
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true
  }
}
```

#### ç±»å‹å®šä¹‰
```typescript
// âœ… æ¨è: æ˜ç¡®ç±»å‹
interface GenerateImageParams {
  prompt: string
  model: string
  size?: '512x512' | '1024x1024'
  quality?: 'standard' | 'hd'
}

// âŒ é¿å…: any ç±»å‹
const handleSubmit = (data: any) => {} // ä¸æ¨è

// âœ… ä½¿ç”¨æ³›å‹
const fetchData = async <T>(url: string): Promise<T> => {
  const response = await axios.get<T>(url)
  return response.data
}
```

### 3. ç»„ä»¶å¼€å‘è§„èŒƒ

#### å‡½æ•°ç»„ä»¶ä¼˜å…ˆ
```typescript
// âœ… æ¨è: å‡½æ•°ç»„ä»¶ + TypeScript
interface ButtonProps {
  variant?: 'primary' | 'secondary'
  children: React.ReactNode
  onClick?: () => void
}

const Button: React.FC<ButtonProps> = ({ 
  variant = 'primary', 
  children,
  onClick 
}) => {
  return (
    <button 
      className={`btn btn-${variant}`}
      onClick={onClick}
    >
      {children}
    </button>
  )
}

export default Button
```

#### å•ä¸€èŒè´£åŸåˆ™
```typescript
// âœ… æ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
const ConfigPanel: React.FC = () => {
  // åªå¤„ç†é…ç½®é¢æ¿é€»è¾‘
}

const ResultDisplay: React.FC = () => {
  // åªå¤„ç†ç»“æœæ˜¾ç¤ºé€»è¾‘
}

// âŒ é¿å…: ä¸€ä¸ªç»„ä»¶åšå¤ªå¤šäº‹
const ImageGenerator: React.FC = () => {
  // é…ç½® + ç”Ÿæˆ + æ˜¾ç¤º + å†å²è®°å½•... (å¤ªå¤æ‚)
}
```

#### Props è§£æ„ä¸é»˜è®¤å€¼
```typescript
// âœ… æ¨è
const Card: React.FC<CardProps> = ({ 
  title, 
  content, 
  isLoading = false 
}) => {
  // ...
}

// âŒ é¿å…
const Card: React.FC<CardProps> = (props) => {
  return <div>{props.title}</div>
}
```

### 4. Hooks ä½¿ç”¨è§„èŒƒ

#### è‡ªå®šä¹‰ Hook å°è£…
```typescript
// hooks/useImageGeneration.ts
interface UseImageGenerationResult {
  generate: (params: GenerateParams) => Promise<void>
  isLoading: boolean
  error: Error | null
  result: ImageResult | null
}

export const useImageGeneration = (): UseImageGenerationResult => {
  const [isLoading, setIsLoading] = useState(false)
  const [error, setError] = useState<Error | null>(null)
  const [result, setResult] = useState<ImageResult | null>(null)

  const generate = async (params: GenerateParams) => {
    setIsLoading(true)
    setError(null)
    try {
      const data = await apiService.generateImage(params)
      setResult(data)
    } catch (err) {
      setError(err as Error)
    } finally {
      setIsLoading(false)
    }
  }

  return { generate, isLoading, error, result }
}
```

#### ä¾èµ–æ•°ç»„è§„èŒƒ
```typescript
// âœ… æ˜ç¡®åˆ—å‡ºæ‰€æœ‰ä¾èµ–
useEffect(() => {
  fetchData(userId, filter)
}, [userId, filter]) // åˆ—å‡ºæ‰€æœ‰ä½¿ç”¨çš„å¤–éƒ¨å˜é‡

// âŒ é¿å…ç©ºä¾èµ–æ•°ç»„(é™¤éç¡®å®åªéœ€è¿è¡Œä¸€æ¬¡)
useEffect(() => {
  fetchData(userId) // userId å˜åŒ–ä¸ä¼šé‡æ–°è¿è¡Œ
}, [])
```

### 5. API é€‚é…å™¨æ¨¡å¼

#### åŸºç¡€é€‚é…å™¨æ¥å£
```typescript
// adapters/base/BaseAdapter.ts
export interface MediaGeneratorAdapter {
  name: string
  generateImage(params: GenerateImageParams): Promise<ImageResult>
  generateVideo(params: GenerateVideoParams): Promise<VideoResult>
  checkStatus(taskId: string): Promise<TaskStatus>
}

// adapters/openai/OpenAIAdapter.ts
export class OpenAIAdapter implements MediaGeneratorAdapter {
  name = 'OpenAI'
  
  async generateImage(params: GenerateImageParams): Promise<ImageResult> {
    // å®ç° OpenAI ç‰¹å®šé€»è¾‘
    const response = await axios.post('/api/openai/images', {
      prompt: params.prompt,
      model: params.model
    })
    return this.transformResponse(response.data)
  }
  
  private transformResponse(data: any): ImageResult {
    // è½¬æ¢ä¸ºç»Ÿä¸€æ ¼å¼
    return {
      id: data.id,
      url: data.url,
      createdAt: new Date(data.created * 1000)
    }
  }
}
```

#### é€‚é…å™¨å·¥å‚
```typescript
// adapters/index.ts
type AdapterType = 'openai' | 'stability' | 'midjourney'

export const getAdapter = (type: AdapterType): MediaGeneratorAdapter => {
  switch (type) {
    case 'openai':
      return new OpenAIAdapter()
    case 'stability':
      return new StabilityAdapter()
    case 'midjourney':
      return new MidjourneyAdapter()
    default:
      throw new Error(`Unknown adapter type: ${type}`)
  }
}
```

### 6. æ ·å¼è§„èŒƒ

#### Tailwind CSS ä½¿ç”¨
```typescript
// âœ… æ¨è: ä½¿ç”¨ Tailwind å·¥å…·ç±»
<div className="flex items-center justify-between p-4 bg-white rounded-lg shadow-md">
  <h2 className="text-xl font-bold text-zinc-900">æ ‡é¢˜</h2>
</div>

// âœ… æ¡ä»¶ç±»åä½¿ç”¨ clsx
import { clsx } from 'clsx'

const Button = ({ variant, isActive }) => (
  <button className={clsx(
    'px-4 py-2 rounded-md',
    variant === 'primary' && 'bg-blue-500 text-white',
    variant === 'secondary' && 'bg-zinc-200 text-zinc-800',
    isActive && 'ring-2 ring-blue-400'
  )}>
    Click me
  </button>
)

// âŒ é¿å…: å†…è”æ ·å¼(é™¤éåŠ¨æ€å€¼)
<div style={{ backgroundColor: 'white' }}> // ä¸æ¨è
```

#### é»‘ç™½é…è‰²ç³»ç»Ÿ
```typescript
// config/theme.ts
export const theme = {
  colors: {
    primary: {
      black: '#000000',
      darkzinc: '#1a1a1a',
      zinc: '#404040',
      lightzinc: '#a0a0a0',
      white: '#ffffff',
    },
    accent: {
      blue: '#0066cc', // å¯é€‰çš„å¼ºè°ƒè‰²
    },
    state: {
      error: '#dc2626',
      success: '#16a34a',
      warning: '#ea580c',
    }
  }
}

// tailwind.config.js
export default {
  theme: {
    extend: {
      colors: {
        'primary-black': '#000000',
        'primary-white': '#ffffff',
        'zinc': {
          50: '#fafafa',
          100: '#f5f5f5',
          200: '#e5e5e5',
          300: '#d4d4d4',
          400: '#a3a3a3',
          500: '#737373',
          600: '#525252',
          700: '#404040',
          800: '#262626',
          900: '#171717',
        }
      }
    }
  }
}
```

### 7. é”™è¯¯å¤„ç†è§„èŒƒ

#### ç»Ÿä¸€é”™è¯¯å¤„ç†
```typescript
// services/api.ts
import axios, { AxiosError } from 'axios'

export class ApiError extends Error {
  constructor(
    message: string,
    public statusCode: number,
    public data?: any
  ) {
    super(message)
    this.name = 'ApiError'
  }
}

// Axios æ‹¦æˆªå™¨
axios.interceptors.response.use(
  response => response,
  (error: AxiosError) => {
    if (error.response) {
      throw new ApiError(
        error.response.data?.message || 'Request failed',
        error.response.status,
        error.response.data
      )
    }
    throw new Error('Network error')
  }
)

// ç»„ä»¶ä¸­ä½¿ç”¨
const Component = () => {
  const handleSubmit = async () => {
    try {
      await apiService.generate(params)
    } catch (error) {
      if (error instanceof ApiError) {
        toast.error(`API Error: ${error.message}`)
      } else {
        toast.error('An unexpected error occurred')
      }
    }
  }
}
```

### 8. æ€§èƒ½ä¼˜åŒ–è§„èŒƒ

#### React.memo ä½¿ç”¨
```typescript
// âœ… å¯¹æ˜‚è´µçš„çº¯ç»„ä»¶ä½¿ç”¨ memo
export const ExpensiveComponent = React.memo<Props>(({ data }) => {
  // å¤æ‚æ¸²æŸ“é€»è¾‘
  return <div>{/* ... */}</div>
})

// è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°
export const ImageCard = React.memo<ImageCardProps>(
  ({ image }) => <div>{/* ... */}</div>,
  (prevProps, nextProps) => prevProps.image.id === nextProps.image.id
)
```

#### useMemo å’Œ useCallback
```typescript
// âœ… ç¼“å­˜è®¡ç®—ç»“æœ
const ExpensiveComponent = ({ items, filter }) => {
  const filteredItems = useMemo(() => {
    return items.filter(item => item.category === filter)
  }, [items, filter])

  return <List items={filteredItems} />
}

// âœ… ç¼“å­˜å›è°ƒå‡½æ•°
const Parent = () => {
  const handleClick = useCallback(() => {
    console.log('clicked')
  }, []) // ç©ºä¾èµ–,å‡½æ•°æ°¸è¿œä¸å˜

  return <Child onClick={handleClick} />
}
```

---

## å››ã€é…ç½®æ–‡ä»¶è§„èŒƒ

### API å‚å•†é…ç½®
```json
// config/providers.json
{
  "providers": [
    {
      "id": "openai",
      "name": "OpenAI DALL-E",
      "type": "image",
      "endpoint": "https://api.openai.com/v1",
      "models": ["dall-e-3", "dall-e-2"],
      "requiresAuth": true,
      "rateLimit": {
        "requests": 50,
        "period": "minute"
      }
    },
    {
      "id": "stability",
      "name": "Stability AI",
      "type": "image",
      "endpoint": "https://api.stability.ai/v1",
      "models": ["stable-diffusion-xl", "stable-diffusion-v1-6"],
      "requiresAuth": true
    }
  ]
}
```

### ç¯å¢ƒå˜é‡
```bash
# .env.example
VITE_APP_TITLE=AI Media Generator
VITE_API_TIMEOUT=30000

# API Keys (ç”¨æˆ·è‡ªè¡Œé…ç½®,ä¸æäº¤)
VITE_OPENAI_API_KEY=
VITE_STABILITY_API_KEY=
VITE_MIDJOURNEY_API_KEY=
```

---

## äº”ã€ä»£ç è´¨é‡å·¥å…·

### ESLint é…ç½®
```json
// .eslintrc.json
{
  "extends": [
    "eslint:recommended",
    "plugin:react/recommended",
    "plugin:react-hooks/recommended",
    "plugin:@typescript-eslint/recommended"
  ],
  "rules": {
    "react/react-in-jsx-scope": "off",
    "@typescript-eslint/no-unused-vars": "warn",
    "@typescript-eslint/no-explicit-any": "error"
  }
}
```

### Prettier é…ç½®
```json
// .prettierrc
{
  "semi": false,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5",
  "printWidth": 80,
  "arrowParens": "avoid"
}
```

### Husky + lint-staged
```json
// package.json
{
  "lint-staged": {
    "*.{ts,tsx}": [
      "eslint --fix",
      "prettier --write"
    ]
  }
}
```

---

## å…­ã€Git æäº¤è§„èŒƒ

### Commit Message æ ¼å¼
```
<type>(<scope>): <subject>

<body>

<footer>
```

**Type ç±»å‹:**
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´(ä¸å½±å“åŠŸèƒ½)
- `refactor`: é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·é…ç½®

**ç¤ºä¾‹:**
```
feat(image-gen): æ·»åŠ  OpenAI DALL-E 3 æ”¯æŒ

- å®ç° OpenAIAdapter é€‚é…å™¨
- æ·»åŠ é…ç½®é¢æ¿ UI
- æ”¯æŒè‡ªå®šä¹‰åˆ†è¾¨ç‡é€‰æ‹©

Closes #123
```

---

## ä¸ƒã€å¼€å‘æµç¨‹

### 1. åˆ†æ”¯ç®¡ç†
- `main` - ä¸»åˆ†æ”¯,ç”Ÿäº§ç¯å¢ƒ
- `develop` - å¼€å‘åˆ†æ”¯
- `feature/*` - åŠŸèƒ½åˆ†æ”¯
- `bugfix/*` - ä¿®å¤åˆ†æ”¯

### 2. å¼€å‘æ­¥éª¤
1. ä» `develop` åˆ›å»º `feature/xxx` åˆ†æ”¯
2. å¼€å‘å¹¶æœ¬åœ°æµ‹è¯•
3. æäº¤ä»£ç ,é€šè¿‡ ESLint å’Œ Prettier æ£€æŸ¥
4. å‘èµ· Pull Request åˆ° `develop`
5. Code Review ååˆå¹¶
6. å®šæœŸä» `develop` åˆå¹¶åˆ° `main`

### 3. Code Review æ£€æŸ¥æ¸…å•
- [ ] ä»£ç ç¬¦åˆ TypeScript è§„èŒƒ
- [ ] ç»„ä»¶æ‹†åˆ†åˆç†,éµå¾ªå•ä¸€èŒè´£
- [ ] æ­£ç¡®ä½¿ç”¨ Hooks,æ— é—­åŒ…é™·é˜±
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] æ€§èƒ½ä¼˜åŒ–(memo/useMemo/useCallback)
- [ ] UI ç¬¦åˆè®¾è®¡è§„èŒƒ(é»‘ç™½é…è‰²)
- [ ] æ—  console.log ç­‰è°ƒè¯•ä»£ç 

---

## å…«ã€æµ‹è¯•è§„èŒƒ(å¯é€‰)

### å•å…ƒæµ‹è¯•
```typescript
// __tests__/Button.test.tsx
import { render, screen, fireEvent } from '@testing-library/react'
import { Button } from '@/components/ui/button'

describe('Button', () => {
  it('renders correctly', () => {
    render(<Button>Click me</Button>)
    expect(screen.getByText('Click me')).toBeInTheDocument()
  })

  it('handles click events', () => {
    const handleClick = jest.fn()
    render(<Button onClick={handleClick}>Click me</Button>)
    fireEvent.click(screen.getByText('Click me'))
    expect(handleClick).toHaveBeenCalledTimes(1)
  })
})
```

---

## ä¹ã€éƒ¨ç½²è§„èŒƒ

### æ„å»ºä¼˜åŒ–
```typescript
// vite.config.ts
export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          'react-vendor': ['react', 'react-dom'],
          'ui-vendor': ['@radix-ui/react-dialog', 'lucide-react'],
        }
      }
    }
  }
})
```

### ç¯å¢ƒåŒºåˆ†
- **å¼€å‘ç¯å¢ƒ**: `npm run dev`
- **é¢„è§ˆç¯å¢ƒ**: `npm run build && npm run preview`
- **ç”Ÿäº§ç¯å¢ƒ**: CI/CD è‡ªåŠ¨éƒ¨ç½²

---

## åã€æ–‡æ¡£è§„èŒƒ

### README.md å¿…å¤‡å†…å®¹
1. é¡¹ç›®ç®€ä»‹
2. æŠ€æœ¯æ ˆ
3. å®‰è£…æ­¥éª¤
4. é…ç½®è¯´æ˜(API Key ç­‰)
5. å¼€å‘æŒ‡å—
6. éƒ¨ç½²è¯´æ˜
7. å¸¸è§é—®é¢˜

### ç»„ä»¶æ–‡æ¡£
```typescript
/**
 * ImageGenerator ç»„ä»¶
 * 
 * @description å›¾ç‰‡ç”Ÿæˆä¸»ç»„ä»¶,æ”¯æŒå¤šä¸ª AI å‚å•†
 * 
 * @example
 * ```tsx
 * <ImageGenerator 
 *   provider="openai"
 *   onSuccess={(result) => console.log(result)}
 * />
 * ```
 */
export const ImageGenerator: React.FC<Props> = ({ ... }) => {
  // ...
}
```