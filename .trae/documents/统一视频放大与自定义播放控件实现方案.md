## 现状
- 视频结果使用原生 `<video controls>`，固定缩略容器展示：`src/App.tsx:805-813`。
- 图片结果支持点击放大到适配视图的自定义查看器（遮罩、缩放、拖拽、重置）：
  - 打开/关闭逻辑：`src/App.tsx:411-438`
  - 查看器渲染：`src/App.tsx:907-1002`

## 目标
- 点击视频缩略图后，进入与图片一致的全屏查看器样式（遮罩+居中+适配视窗）。
- 在查看器中点击可播放/暂停，提供统一风格的自定义播放控件（进度、时间、音量、静音、速率、循环、下载、关闭等）。
- 键盘快捷键统一：`Space` 播放/暂停、`←/→` 快退/快进、`↑/↓` 音量、`Esc` 关闭。

## 技术方案
- 复用图片查看器的遮罩与动效结构，新增“视频查看器”状态与事件管理，保持风格统一（`bg-[#131313]/90`、`border-[rgba(46,46,46,0.8)]`、强调色 `#007eff`）。
- 不引入第三方播放器库，直接用 `HTMLVideoElement` 结合 `ref` 实现自定义控件与事件（`loadedmetadata`、`timeupdate`、`waiting`、`ended`）。

## 修改点（文件与位置）
- `src/App.tsx`
  - 状态新增（与图片查看器并列）：在 `src/App.tsx:27-49` 附近添加：
    - `isVideoViewerOpen`、`currentVideoUrl`、`videoRef`、`isVideoPlaying`、`videoDuration`、`currentTime`、`volume`、`muted`、`playbackRate`、`loop`、`videoViewerOpacity`、`isBuffering`。
  - 打开/关闭函数：在 `src/App.tsx:411-438` 附近新增：
    - `openVideoViewer(url: string)`：设置 URL、初始化状态、`document.body.style.overflow='hidden'`。
    - `closeVideoViewer()`：关闭、恢复滚动、淡出过渡（复用图片查看器的 `viewerOpacity` 逻辑或独立 `videoViewerOpacity`）。
  - 缩略区域行为：替换 `src/App.tsx:805-813` 的视频块，移除原生 `controls`，改为：
    - 保持缩略容器样式，`<video>` 上显示海报/首帧，整个容器 `onClick={() => openVideoViewer(task.result.url)}`。
  - 查看器渲染：在图片查看器之后新增“视频查看器”模态块（结构与样式仿照 `src/App.tsx:907-1002`）：
    - 中心区域 `<video ref={videoRef} src={currentVideoUrl} className="object-contain" style={{maxHeight:'90vh',maxWidth:'90vw'}} />`。
    - 关闭按钮右上角定位，样式与图片查看器一致。
    - 底部自定义控件栏（详见下文）。
  - 事件绑定：
    - `onLoadedMetadata` 设置 `videoDuration`。
    - `onTimeUpdate` 更新 `currentTime` 与进度。
    - `onWaiting`/`onStalled` 设置 `isBuffering=true`，显示缓冲菊花；`onPlaying` 置 `false`。
    - 点击视频区域切换播放/暂停：`isVideoPlaying ? videoRef.current.pause() : videoRef.current.play()`。
  - 键盘事件：仿照图片查看器 `useEffect`（`src/App.tsx:55-85`），在视频查看器打开时注册：
    - `Space` 播放/暂停；`ArrowLeft/Right` `±5s` 跳转；`ArrowUp/Down` 调整音量；`Escape` 关闭。

## 自定义播放控件（统一风格）
- 播放/暂停按钮：圆形按钮，`bg-zinc-800/80` 悬浮变亮；图标使用现有风格。
- 进度条：`w-full` 线性条，`#007eff` 作为已播放进度；支持拖拽更新 `currentTime`。
- 时间显示：`mm:ss / mm:ss`。
- 音量控制：滑条 + 静音切换按钮。
- 速率选择：`0.5×`、`1.0×`、`1.5×`、`2.0×` 下拉/菜单。
- 循环：开关按钮，切换 `videoRef.current.loop`。
- 下载：保存当前视频到本地（与图片下载逻辑一致）。
- 关闭：右上角按钮，与图片查看器一致。

## 交互细节
- 初始不自动播放；进入查看器后首击播放，点击画面任意处均可切换播放/暂停。
- 进度拖动时暂时禁用过渡，松开后恢复；拖动期间显示预览时间。
- 缩略视图保留 `object-contain`，避免裁剪；需时可叠加小型“播放”覆盖图标暗示可点击。

## 验证与测试
- 本地跑开发服务后，生成视频内容并：
  - 点击缩略图进入查看器，检查遮罩、居中与适配视窗。
  - 操作自定义控件与键盘快捷键，验证播放、拖动、速率、循环、音量与下载。
  - 网络慢速模拟下验证缓冲态的反馈与恢复。

## 可选增强
- 显示 `poster`（首帧或外部缩略图）提升缩略体验。
- 进度条悬停预览时间提示。
- 记忆播放速率与音量到 `localStorage`。
- 在多媒体查看器中抽象统一的 `Viewer` 组件以减少重复（后续迭代）。

确认后我将按上述修改点在 `src/App.tsx` 完成实现，并验证交互与样式一致性。