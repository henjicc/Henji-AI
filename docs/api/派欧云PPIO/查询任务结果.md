# 查询任务结果
## 请求示例
curl --request GET \
  --url https://api.ppinfra.com/v3/async/task-result \
  --header 'Authorization: <authorization>' \
  --header 'Content-Type: <content-type>'

## 200响应示例
{
  "extra": {
    "seed": "<string>",
    "debug_info": {
      "request_info": "<string>",
      "submit_time_ms": "<string>",
      "execute_time_ms": "<string>",
      "complete_time_ms": "<string>"
    }
  },
  "task": {
    "task_id": "<string>",
    "status": "<string>",
    "reason": "<string>",
    "task_type": "<string>",
    "eta": 123,
    "progress_percent": 123
  },
  "images": [
    {
      "image_url": "<string>",
      "image_url_ttl": 123,
      "image_type": "<string>"
    }
  ],
  "videos": [
    {
      "video_url": "<string>",
      "video_url_ttl": "<string>",
      "video_type": "<string>"
    }
  ],
  "audios": [
    {
      "audio_url": "<string>",
      "audio_url_ttl": "<string>",
      "audio_type": "<string>",
      "audio_metadata": {
        "text": "<string>",
        "start_time": 123,
        "end_time": 123
      }
    }
  ]
}

「查询任务结果 API」用来获取异步任务返回的图像、音频或视频结果。

## 请求头

- **Content-Type**: string (required)
  枚举值: `application/json`
- **Authorization**: string (required)
  Bearer 身份验证格式，例如：`Bearer {{API 密钥}}`。

## 查询参数

- **task_id**: string (required)
  在异步 API 的 200 响应中返回的 task_id 值。

## 响应参数

- **extra**: object
  - **seed**: string
  - **debug_info**: object
    调试信息
    - **request_info**: string
      记录请求参数以用于调试。
    - **submit_time_ms**: string
      任务提交时的时间戳（以毫秒为单位）。
    - **execute_time_ms**: string
      任务开始执行时的时间戳（以毫秒为单位）。
    - **complete_time_ms**: string
      任务完成时的时间戳（以毫秒为单位）。

- **task**: object (required)
  任务详细信息。
  - **task_id**: string (required)
    任务 ID。
  - **status**: string (required)
    任务当前状态。枚举值：
    - `TASK_STATUS_QUEUED`：任务排队中，等待处理；
    - `TASK_STATUS_SUCCEEDED`：任务已成功；
    - `TASK_STATUS_FAILED`：任务失败；
    - `TASK_STATUS_PROCESSING`：任务正在处理中；
  - **reason**: string
    任务失败原因，当任务失败时，该字段有效。
  - **task_type**: string (required)
    任务的类型。
  - **eta**: number
    任务预计完成时间，以秒为单位。只有部分 API 该字段有效。
  - **progress_percent**: number
    任务完成的进度百分比。此功能目前仅适用于：
    1. 视频生成 API；
    2. 文本到图像 API 和 图像到图像 API。

- **images**: object[]
  返回与图像类任务的输出图片结果。
  - **image_url**: string
    图像 URL。
  - **image_url_ttl**: integer
    图像 URL 过期时间（以秒为单位）。默认值为 3600 秒。
  - **image_type**: string
    图像类型。枚举值：`jpeg`, `png`, `webp`。

- **videos**: object[]
  返回与视频类任务的输出视频结果。
  - **video_url**: string
    视频 URL。
  - **video_url_ttl**: string
    视频URL过期时间（以秒为单位）。默认值为 3600 秒。
  - **video_type**: string
    视频类型。枚举值：`mp4`, `gif`。

- **audios**: object[]
  返回与音频类任务的输出音频结果。
  - **audio_url**: string
    音频 URL。
  - **audio_url_ttl**: string
    音频 URL 过期时间（以秒为单位）。默认值为 3600 秒。
  - **audio_type**: string
    音频类型。枚举值：`wav`。
  - **audio_metadata**: object
    生成的音频文件的详细元数据信息。
    - **text**: string
      音频包含的文本信息。
    - **start_time**: number
      文本的开始时间（以秒为单位）。
    - **end_time**: number
      文本的结束时间（以秒为单位）。