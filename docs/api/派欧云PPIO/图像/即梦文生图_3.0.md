# 即梦文生图 3.0

即梦文生图 3.0 是即梦同源的文生图能力，在文字响应准确度、图文排版、层次美感和语义理解能力上相较之前版本均有显著提升，人像质感更逼真，且支持输出高清大图。此外，在文字响应更精准的基础下，还支持响应大小字、各类艺术字体和不同字重。

本接口支持个人认证及企业认证用户调用。请参见 [实名认证](/docs/support/identity-verification)，完成个人用户认证或企业用户认证，以确保可以正常使用本功能。

## 请求示例

```bash
curl --request POST \
  --url https://api.ppinfra.com/v3/async/jimeng-txt2img-v3.0 \
  --header 'Authorization: <authorization>' \
  --header 'Content-Type: application/json' \
  --data '
{
  "prompt": "<string>",
  "use_pre_llm": true,
  "seed": 123,
  "width": 123,
  "height": 123,
  "logo_info": {
    "add_logo": true,
    "position": 123,
    "language": 123,
    "opacity": 123,
    "logo_text_content": "<string>"
  }
}
'
```

## 响应示例

```json
{
  "task_id": "<string>"
}
```

## 接口信息

- **请求方法**: POST
- **接口地址**: `https://api.ppinfra.com/v3/async/jimeng-txt2img-v3.0`

## 请求头

| 参数 | 类型 | 是否必需 | 说明 |
| :--- | :--- | :--- | :--- |
| `Content-Type` | string | 是 | 固定为 `application/json` |
| `Authorization` | string | 是 | Bearer 身份验证格式，例如：`Bearer {{API 密钥}}` |

## 请求体

| 参数 | 类型 | 是否必需 | 说明 |
| :--- | :--- | :--- | :--- |
| `prompt` | string | 是 | 用于生成图像的提示词，中英文均可输入。建议长度 <=120 字符，最长不超过800字符，prompt 过长有概率出图异常或不生效 |
| `use_pre_llm` | bool | 否 | 开启文本扩写，会针对输入 prompt 进行扩写优化。如果输入 prompt 较短建议开启，如果输入 prompt 较长建议关闭。<br>**默认值**: `true` |
| `seed` | int | 否 | 随机种子，作为确定扩散初始状态的基础。若随机种子为相同正整数且其他参数均一致，则生成图片极大概率效果一致。<br>**默认值**: `-1` (随机) |
| `width` | int | 否 | 生成图像的宽度。<br>1. 系统默认生成 1328 * 1328 的图像。<br>2. 支持自定义生成图像宽高，宽高比在 1:3 到 3:1 之间，长度在 [512, 2048] 之间。<br>3. 需同时传入 `width` 和 `height` 才会生效。 |
| `height` | int | 否 | 生成图像的高度。<br>需同时传入 `width` 和 `height` 才会生效。 |
| `logo_info` | object | 否 | 水印相关信息。 |

### `logo_info` 对象参数

| 参数 | 类型 | 是否必需 | 说明 |
| :--- | :--- | :--- | :--- |
| `add_logo` | bool | 否 | 是否添加水印。`true` 为添加，`false` 为不添加。<br>**默认值**: `false` |
| `position` | int | 否 | 水印的位置。<br>**可选值**:<br>`0` - 右下角<br>`1` - 左下角<br>`2` - 左上角<br>`3` - 右上角<br>**默认值**: `0` |
| `language` | int | 否 | 水印的语言。<br>**可选值**:<br>`0` - 中文（AI生成）<br>`1` - 英文（Generated by AI）<br>**默认值**: `0` |
| `opacity` | float | 否 | 水印的不透明度，取值范围 0-1，1 表示完全不透明。<br>**默认值**: `1` |
| `logo_text_content` | string | 否 | 明水印自定义内容。 |

## 响应参数

| 参数 | 类型 | 是否必需 | 说明 |
| :--- | :--- | :--- | :--- |
| `task_id` | string | 是 | 异步任务的 `task_id`。您应该使用该 `task_id` 请求 [查询任务结果 API](/docs/models/reference-get-async-task-result) 以获取生成结果。 |

## 推荐图像尺寸

### 标清 1K
- 1328 × 1328 (1:1)
- 1472 × 1104 (4:3)
- 1584 × 1056 (3:2)
- 1664 × 936 (16:9)
- 2016 × 864 (21:9)

### 高清 2K
- 2048 × 2048 (1:1)