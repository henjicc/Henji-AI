# 创建嵌入请求

创建一个表示输入文本的嵌入向量。

## 请求示例

**cURL**
```bash
curl --request POST \
  --url https://api.ppinfra.com/openai/v1/embeddings \
  --header 'Authorization: <authorization>' \
  --header 'Content-Type: application/json' \
  --data '
{
  "input": {},
  "model": {},
  "encoding_format": "<string>"
}
'
```

**请求体示例**
```json
{
  "input": {},
  "model": {},
  "encoding_format": "<string>"
}
```

**响应示例**
```json
{
  "object": "<string>",
  "data": [
    {
      "index": 123,
      "embedding": [
        {}
      ],
      "object": "<string>"
    }
  ],
  "model": "<string>",
  "usage": {
    "prompt_tokens": 123,
    "total_tokens": 123
  }
}
```

## 请求头

| 参数 | 类型 | 是否必需 | 描述 |
| :--- | :--- | :--- | :--- |
| `Content-Type` | `string` | 是 | 必须为 `application/json`。 |
| `Authorization` | `string` | 是 | Bearer 身份验证格式，例如：`Bearer {{API 密钥}}`。 |

## 请求体

| 参数 | 类型 | 是否必需 | 描述 |
| :--- | :--- | :--- | :--- |
| `input` | `string` \| `array` | 是 | 要嵌入的输入文本，编码为字符串或 tokens 数组。要在单个请求中嵌入多个输入，请传入字符串数组或 tokens 数组的数组。输入不得超过模型的最大输入 tokens（text-embedding-ada-002 的最大输入为 8192 个 tokens），不能是空字符串，且任何数组的维度不得超过 2048。 |
| `model` | `string` | 是 | 要使用的模型 ID。枚举值：`baai/bge-m3`。 |
| `encoding_format` | `string` | 否 | 返回嵌入的格式。可以为 `float` 或 `base64`。 |

## 响应参数

| 参数 | 类型 | 是否必需 | 描述 |
| :--- | :--- | :--- | :--- |
| `object` | `string` | 是 | 固定为 `list`。 |
| `data` | `array` | 是 | 模型生成的嵌入列表。 |
| `model` | `string` | 是 | 使用的模型 ID。 |
| `usage` | `object` | 是 | 使用情况信息。 |

### data 对象属性

| 参数 | 类型 | 是否必需 | 描述 |
| :--- | :--- | :--- | :--- |
| `index` | `integer` | 是 | 嵌入向量的索引。 |
| `embedding` | `array` | 是 | 嵌入向量。 |
| `object` | `string` | 是 | 固定为 `embedding`。 |

### usage 对象属性

| 参数 | 类型 | 是否必需 | 描述 |
| :--- | :--- | :--- | :--- |
| `prompt_tokens` | `integer` | 是 | prompt tokens 的数量。 |
| `total_tokens` | `integer` | 是 | 总 tokens 的数量。 |