# 创建重排序请求

创建一个重排序请求。

## 请求头

### Content-Type
*   **类型**: string
*   **必需**: 是
*   **枚举值**: `application/json`

### Authorization
*   **类型**: string
*   **必需**: 是
*   **说明**: Bearer 身份验证格式，例如：`Bearer {{API 密钥}}`。

## 请求体

### model
*   **类型**: string
*   **必需**: 是
*   **说明**: 要使用的模型名称。

### query
*   **类型**: string
*   **必需**: 是
*   **说明**: 查询内容。

### documents
*   **类型**: string[]
*   **必需**: 是
*   **说明**: 文档列表。

### top_n
*   **类型**: integer
*   **必需**: 否
*   **说明**: 返回最相关文档或索引的数量。

## 请求示例

```bash
curl --request POST \
  --url https://api.ppinfra.com/openai/v1/rerank \
  --header 'Authorization: Bearer <your-api-key>' \
  --header 'Content-Type: application/json' \
  --data '
{
  "model": "<model-name>",
  "query": "<query-string>",
  "documents": [
    "<document-text-1>",
    "<document-text-2>"
  ],
  "top_n": 5
}
'
```

## 响应参数

### id
*   **类型**: string
*   **必需**: 是
*   **说明**: 请求的唯一标识符。

### results
*   **类型**: object[]
*   **必需**: 是
*   **说明**: 重排序结果列表。

#### document
*   **类型**: object
*   **说明**: 文档内容。
    *   **text**: `string` - 文档文本。

#### index
*   **类型**: integer
*   **说明**: 该结果在输入 `documents` 数组中的原始索引位置。

#### relevance_score
*   **类型**: number
*   **说明**: 文档与查询的相似度分数。

### usage
*   **类型**: object
*   **必需**: 是
*   **说明**: Token 使用统计信息。
    *   **completion_tokens**: `integer` (必需) - 响应生成的 tokens 数量。
    *   **prompt_tokens**: `integer` (必需) - 请求 prompt 中的 tokens 数量。
    *   **total_tokens**: `integer` (必需) - 请求中使用的总 tokens 数量（prompt + completion）。

## 响应示例

```json
{
  "id": "req_abc123",
  "results": [
    {
      "document": {
        "text": "最相关的文档内容。"
      },
      "index": 1,
      "relevance_score": 0.95
    },
    {
      "document": {
        "text": "次相关的文档内容。"
      },
      "index": 0,
      "relevance_score": 0.82
    }
  ],
  "usage": {
    "completion_tokens": 50,
    "prompt_tokens": 120,
    "total_tokens": 170
  }
}
```